# L0

## Допущения

* Кэш из базы данных восстанавливается по мере поступления запросов
* Параметры order_uid и payment.transaction, items.chrt_id считаются уникальными

## Вопрос отказоустойчивости

> Подумайте как не терять данные в случае ошибок или проблем с сервисом

По условию задания должен использоваться устаревший nats-streaming, который сам по себе не умеет сохранять сообщения, и
если в момент получения брокером сообщения не было клиентов, готовых его получить, сообщение теряется. Вопрос решается
путём перехода на JetStream, который умеет хранить сообщения.

При использовании JetStream можно использовать механизм durable подписок. В таком случае сервер JetStream будет
отслеживать, какие из сообщений были получены, а какие - нет. При восстановлении работы нашего приложения сервер
JetStream отправит нам неполученные сообщения.
